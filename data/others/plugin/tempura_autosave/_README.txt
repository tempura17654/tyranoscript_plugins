========== ========== ========== ==========
     オートセーブ複数管理プラグイン
========== ========== ========== ==========

【最終更新日】2018/02/02 11:06
【  名  称  】オートセーブ複数管理プラグイン
【  種  別  】ティラノスクリプト用の外部プラグイン
【 製 作 者 】荻原（おぎはら）
【 開発環境 】64bit版Windows10, ティラノスクリプトv460, ティラノライダーv200 
【 動作環境 】上記開発環境にて確認
【 連 絡 先 】Twitterまでどうぞ（@tempura17654）
【 配 布 元 】http://tempura9357.blog.fc2.com
【ライセンス】MIT

---------- ----------



◇ 概要 ◇

ティラノスクリプトのオートセーブデータを複数管理できるようにするプラグインです。
このプラグインを導入すると、
専用のオートセーブタグを使うことで オートセーブデータを複数保存できるようになる他、
オートセーブデータ用のロード画面を開くことができるようになります。

プラグインを導入することで使えるようになるタグは、
・[tempura_autosave]
・[tempura_autoload]
・[tempura_autodelete]
の3つです。



◇ ファイル構成 ◇

tempura_autosave
 ├ autoload.html       …オートロード画面用のHTML
 ├ label_load.png      …オートロード画面用の画像
 ├ load.ks             …オートロード画面用のシナリオ
 ├ init.ks             …プラグイン詠み込み用シナリオ
 ├ tempura_autosave.js …JavaScript
 ├ load.html           …通常ロード画面用のHTML
 ├ _README.txt         …説明書
 └ _SAMPLE.ks          …サンプルシナリオ



◇ 導入方法 ◇

解凍して出てきた「tempura_autosave」フォルダを、
「data/others/plugin/」下にコピーしてください。
その後、first.ksに以下のタグを記述してください。

    [plugin name=tempura_autosave]



◇ 諸注意 ◇

・[sysview]を使って、ロード画面の呼び出しに使用するHTMLファイルを変更しています。
　ご注意ください。

・オートセーブデータ用のロード画面は、付属のシナリオファイルを内部的に[sleepgame]で
  呼び出すことで作成しています。 この画面を[button]などから直接呼び出したい場合は、
  コンフィグ画面を呼び出すときと同様に、次のように記述してください。
  [button name="role_button" role="sleepgame" graphic="button/load.png" enterimg="button/load2.png" x=785 y=410 storage="../others/plugin/tempura_autosave/load.ks"]

・オートセーブは[s]、[l]、[p]のいずれかのタグの直前で行うのがオススメです。
  それ以外のタグの直前で行うと正常にロードできなくなる恐れがあります。

・オートセーブデータはシステム変数として保存されます。
  sf.tempura_autosave_data で「セーブデータオブジェクトが格納されている配列」にアクセスできます。

・タグに指定するスロット番号は0から始まる整数で指定します。先頭のスロットを0で指定するということです。
  プログラムの仕様上そうしたほうが簡便なのでそういう仕様になっていますが、変えることもできます。
  1から始まる整数で指定したい場合、tempura_autosave.jsを開いて、index_startのところに1を指定してください。



◇ pluginタグに指定できるパラメータ ◇

   slot   : 管理するスロット数。1以上の整数で指定してください。
   log    : デフォルトでオートセーブ時に通知を出すかどうか。true/false



◇ タグリファレンス ◇

◆ [tempura_autosave] オートセーブを行う
    
    || 概要
    
    オートセーブを行うタグです。
    
    || 指定できるパラメータ
    
    title     : セーブデータのタイトルを指定します。
                このパラメータ中の「%m」は特殊な文字として扱われますので、注意してください。
                ｢%m」が「現在のメッセージウィンドウのテキスト」で置換されます。初期値は「%m」。
    log       : 通知を出すかどうか。true/false
    slot      : セーブするスロットを0から始まる整数で指定します。
                指定した場合、その位置のスロットに「上書き」します。
                指定しなかった場合、先頭のスロットに「挿入」し、溢れたスロットを削除する処理を行います。



◆ [tempura_autoload] オートセーブデータをロードする
    
    || 概要
    
    オートセーブデータをロードします。
    
    || 指定できるパラメータ
    
    slot      : ロードするスロットを0から始まる整数で指定します。
    
    || サンプルコード
    
    [download_runking target="*Error"]
    [upload_runking target="*Error"]



◆ [tempura_autodelete] オートセーブデータを削除する
    
    || 概要
    
    オートセーブデータを削除します。
    
    || 指定できるパラメータ
    
    slot      : 消去するスロットを0から始まる整数で指定します。
                これを省略した場合、すべてのオートセーブデータを消去します。



◇ FAQ・既知のバグ等 ◇

-



◇ 履歴 ◇

2018/02/02 11:06 リードミーファイルなどを整備。
2017/07/02 01:25 [tempura_autosave]にslot属性を追加した。
                 また、スロットを指定するときの番号を0始まりではなく1始まりで指定するようにもできるように改造した。
                 データが存在しないスロットをロードしようとしたとき、動作が完全停止してしまっていたところを、次のスクリプトを読み込むように変更した。
2017/07/01 19:43 配布開始。
