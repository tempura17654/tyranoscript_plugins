========== ========== ========== ==========
     jQueryタグ追加プラグイン
========== ========== ========== ==========

【最終更新日】2018/01/27 23:23
【  名  称  】jQueryタグ追加プラグイン
【  種  別  】ティラノスクリプト用の外部プラグイン
【 製 作 者 】荻原（おぎはら）
【 開発環境 】64bit版Windows10, ティラノスクリプトv461, ティラノライダーv200 
【 動作環境 】上記開発環境にて確認
【 連 絡 先 】Twitterまでどうぞ（@tempura17654）
【 配 布 元 】http://tempura9357.blog.fc2.com
【ライセンス】MIT

---------- ----------



◇ 概要 ◇

ティラノスクリプトが採用している著名なJavaScriptライブラリ「jQuery」のメソッドのうち
14個のメソッドをティラノスクリプトのタグで扱えるようにするプラグインです。
このプラグインを導入すると、
・[$remove]
・[$empty]
・[$addClass]
・[$removeClass]
・[$attr]
・[$removeAttr]
・[$css]
・[$animate]
・[$show]
・[$hide]
・[$toggle]
・[$fadeIn]
・[$fadeOut]
・[$fadeToggle]
の14個のタグを使えるようになります。



◇ ファイル構成 ◇

for
 ├ jquery_with_tyrano.js
 ├ init.ks
 ├ _SAMPLE.ks
 └ _README.txt



◇ 導入方法 ◇

解凍して出てきた「jquery_with_tyrano」フォルダを、
「data/others/plugin/」下にコピーしてください。
その後、first.ksに以下のタグを記述してください。

    [plugin name=jquery_with_tyrano]



◇ pluginタグに指定できるパラメータ ◇
    
    ・space : 半角スペースの代用とする文字。初期値は「;」。
    
    || サンプルコード
    
    [plugin name=jquery_with_tyrano space="･"]
    [layopt layer=0 visible=true]
    [image layer=0 x=0 y=0 name=akane storage=chara/akane/normal.png]
    [$css name=akane border="3px･solid･red"]
    
    || 補足
    
    ティラノスクリプトでは、パラメータ内に半角スペースを書いても、
    エンジンによる解釈時には無視されてしまう、という仕様があります（バグではない）。
    
    たとえばシナリオファイルに [$css name=akane border="1px solid black"] と書いても、
    それは結局 [$css name=akane border="1pxsolidblack"] というふうに解釈されます。
    これではうまくいきません。
    
    そこで、半角スペースの代用とする文字を決めておくことで、
    それを代わりに使えるようにしている、というわけです。
    
    初期値は「;」なので、それでいくと「;」が半角スペースの代用となります。
    つまり、[$css name=akane border="1px;solid;black"]のように書けばよい、
    ということです。



◇ タグリファレンス ◇

◆ すべてのタグについて
    
    すべてのタグに対して指定することのできるパラメータを以下に示します。
    そのほとんどは「操作対象を特定するためのパラメータ」です。
    
    ・layer    :【カンマ区切りで複数指定可】レイヤーを指定する。
                 基本となる base, 0, 1, 2, …, message0, message1, message2, …, の他にも
                 いくつかのキーワードが使える。
                 使えるキーワードは chara, message, free, event, fix の5つで、それぞれ
                 全前景レイヤ, 全メッセージレイヤ, フリーレイヤ, イベントレイヤ, フィックスレイヤ を意味する。
    ・layer_d  : レイヤーを指定する。指定の仕方は layer と全く同じ。layer との違いについては後述。
    ・page     :【カンマ区切りで複数指定可】レイヤーの表裏を fore, back で指定する。初期値は fore。
    ・name     :【カンマ区切りで複数指定可】操作するオブジェクトのnameを指定する。指定例は name=akane など。
    ・slct     : 操作するオブジェクトを特定するためのセレクタを指定する。nameよりも優先される。
                 JavaScriptに精通している人向け。指定例は slct=img.akane など。
    ・delay    : 操作を実行するまでの遅延時間をミリ秒で指定する。
    
    layer, layer_d, name, slct のうち少なくとも一つは必ず指定する必要があります。
    (もしすべてを省略すると、操作対象をまったく特定できないからです。)
    このとき、layer だけを指定すると「そのレイヤーに配置されているすべてのオブジェクト」が操作対象となります。
    また、layer_d だけを指定すると「そのレイヤー自体」が操作対象となります。
    layer_d の d は direct(ダイレクト) の意です。
    
    また、layer, layer_d, page, name のパラメータについては、
    カンマ（,）区切りによる複数指定が可能です。
    
    
    
◆ [$remove] オブジェクトの削除
    
    || 概要
    
    操作対象のオブジェクトを削除します。
    
    || 指定できるパラメータ
    
    ・time     : 削除にかける時間(ミリ秒)。初期値は 0。
    ・wait     : 削除に時間をかける場合、その完了を待つかどうかを true, false で指定する。初期値は true。
    
    || サンプルコード
    
    
    
◆ [$empty] オブジェクトを空にする
    
    || 概要
    
    操作対象のオブジェクトの中身を削除します。
    レイヤーに対して使うことができます。
    
    || 指定できるパラメータ
    
    ・time  : 削除にかける時間(ミリ秒)。初期値は 0。
    ・wait  : 削除に時間をかける場合、その完了を待つかどうかを true, false で指定する。初期値は true。
    
    || サンプルコード
    
    
    
◆ [$addClass] クラスの追加
    
    || 概要
    
    操作対象のオブジェクトにクラスを追加します。
    
    || 指定できるパラメータ
    
    ・class    : 追加するクラス名。カンマで区切ることで、複数指定できます。
    
    || サンプルコード
    
    [$addClass name=akane class=hoge,fuga]
    
    
    
◆ [$removeClass] クラスの削除
    
    || 概要
    
    操作対象のオブジェクトからクラスを削除します。
    
    || 指定できるパラメータ
    
    ・class    : 削除するクラス名。カンマで区切ることで、複数指定できます。
    
    || サンプルコード
    
    [$removeClass name=akane class=hoge]
    
    
    
◆ [$attr] アトリビュート（属性）の追加または変更
    
    || 概要
    
    操作対象のオブジェクトのアトリビュート（属性）を書き換えます。
    アトリビュートというのは、たとえば <img src="hoge.png" title="hoge"> という要素でいえば
    src とか title になります。
    
    任意の属性値を書き換えることができますが、
    layer や name など、操作対象を特定するためのパラメータと同一名の属性は
    書き換えることができません。
    
    || 指定できるパラメータ
    
    ・任意の属性名   : 書き換えたい任意の属性値を指定できます。
    
    || サンプルコード
    
    [$attr name=akane src=./data/fgimage/chara/akane/angry.png]
    
    
    
◆ [$removeAttr] アトリビュート（属性）の削除
    
    || 概要
    
    操作対象のオブジェクトからアトリビュート（属性）を削除します。
    
    || 指定できるパラメータ
    
    ・key   : 削除したい任意の属性値を指定できます。
    
    || サンプルコード
    
    [$removeAttr name=akane key=src,style]
    
    
    
◆ [$css] スタイルの追加または変更
    
    || 概要
    
    操作対象のオブジェクトに任意のスタイルをセットします。
    
    || 指定できるパラメータ
    
    ・任意のプロパティ : セットしたい任意のプロパティを指定できます。
                         一部のプロパティに対しては"+=200px"などの相対的な指定ができます。
    
    || サンプルコード
    
    [$css name=akane z-index=100 left="+=100px" height=20px border=1px;solid;red]
    
    
    
◆ [$animate] アニメーション
    
    || 概要
    
    操作対象のオブジェクトの特定のスタイルをアニメーションさせながら変更します。
    
    || 指定できるパラメータ
    
    ・任意のプロパティ : セットしたい任意のプロパティを指定できます。
                         一部のプロパティに対しては"+=200px"などの相対的な指定ができます。
    ・time             : 演出にかける時間(ミリ秒)。初期値は 500。
    ・wait             : 演出に時間をかける場合、その完了を待つかどうかを true, false で指定する。初期値は true。
    ・easing           : イージングを指定できます。[anim] 指定できるものと同じ。
    
    || サンプルコード
    
    [$css name=akane z-index=100 width=100px height=20px border=1px;solid;red]
    
    
    
◆ [$show] オブジェクトの表示
    
    || 概要
    
    操作対象のオブジェクトを表示状態にします。
    
    || 指定できるパラメータ
    
    ・time     : 演出にかける時間(ミリ秒)。初期値は 0。
    ・wait     : 演出に時間をかける場合、その完了を待つかどうかを true, false で指定する。初期値は true。
    
    || サンプルコード
    
    [$show layer_d=0,1,2]
    
    
    
◆ [$hide] オブジェクトの非表示
    
    || 概要
    
    操作対象のオブジェクトを非表示状態にします。
    
    || 指定できるパラメータ
    
    ・time     : 演出にかける時間(ミリ秒)。初期値は 0。
    ・wait     : 演出に時間をかける場合、その完了を待つかどうかを true, false で指定する。初期値は true。
    
    || サンプルコード
    
    [$show layer_d=message0]
    
    
    
◆ [$toggle] オブジェクトの表示・非表示のトグル
    
    || 概要
    
    操作対象のオブジェクトの表示・非表示状態を入れ替えます。
    
    || 指定できるパラメータ
    
    ・time     : 演出にかける時間(ミリ秒)。初期値は 0。
    ・wait     : 演出に時間をかける場合、その完了を待つかどうかを true, false で指定する。初期値は true。
    
    || サンプルコード
    
    [$show layer_d=message0]
    
    
    
◆ [$fadeIn] オブジェクトのフェードイン
    
    || 概要
    
    操作対象のオブジェクトを滑らかに表示状態にします。
    
    || 指定できるパラメータ
    
    ・time     : 演出にかける時間(ミリ秒)。初期値は 0。
    ・wait     : 演出に時間をかける場合、その完了を待つかどうかを true, false で指定する。初期値は true。
    
    || サンプルコード
    
    [$fadeIn layer_d=chara]
    
    
    
◆ [$fadeOut] オブジェクトのフェードアウト
    
    || 概要
    
    操作対象のオブジェクトを滑らかに非表示状態にします。
    
    || 指定できるパラメータ
    
    ・time     : 演出にかける時間(ミリ秒)。初期値は 0。
    ・wait     : 演出に時間をかける場合、その完了を待つかどうかを true, false で指定する。初期値は true。
    
    || サンプルコード
    
    [$fadeOut layer_d=chara]
    
    
    
◆ [$fadeToggle] オブジェクトのフェードトグル
    
    || 概要
    
    操作対象のオブジェクトの表示・非表示状態を滑らかに入れ替えます。
    
    || 指定できるパラメータ
    
    ・time     : 演出にかける時間(ミリ秒)。初期値は 0。
    ・wait     : 演出に時間をかける場合、その完了を待つかどうかを true, false で指定する。初期値は true。
    
    || サンプルコード
    
    [$fadeToggle layer_d=0,message0]
    
    

◇ FAQ・既知のバグ等 ◇

Ｑ．パラメータに半角スペースを入れても認識してくれません。
Ａ．ティラノスクリプトの仕様です。
    ティラノスクリプトは、パラメータ中の空白をすべて無視して解釈するようになっています。
    有意味な半角スペースを使いたい場合、
    代わりに半角スペースの代用記号（初期値は「;」）を使ってください。
    たとえば [$css name=akane border=1px;solid;red] など。

Ｑ．パラメータに「#」を入れても認識してくれません。
Ａ．ティラノスクリプトの仕様です。
　　ティラノスクリプトは、パラメータ中の「#」を「=」に置換するようにできています。

Ｑ．一時的にfixレイヤよりも前に画像を持ってきて、クリックで進められるようにしたい。
Ａ．次のように、z-indexプロパティを書き換えれば可能です。
    [$css layer_d=0,event z-index="+=100000000"]
    [image layer=0 x=0 y=0 storage=builder.png time=500 width=960 height=640]
    [l]
    [freeimage layer=0 time=500]
    [$css layer_d=0,event z-index="-=100000000"]



◇ 履歴 ◇

2018/01/27 23:23 配布開始