========== ========== ========== ==========
  キャラクターパーツマネージャプラグイン
========== ========== ========== ==========

【最終更新日】2018/03/07 17:07
【  名  称  】キャラクターパーツマネージャプラグイン
【  種  別  】ティラノスクリプト用の外部プラグイン
【 製 作 者 】荻原（おぎはら）
【 開発環境 】64bit版Windows10, ティラノスクリプトv470_rc4, ティラノライダーv211 
【 動作環境 】上記開発環境にて確認
【 連 絡 先 】Twitterまでどうぞ（@tempura17654）
【 配 布 元 】http://tempura9357.blog.fc2.com
【ライセンス】MIT

---------- ----------



◇ 概要 ◇

ティラノスクリプトにバージョン470_rc4より追加された「キャラクターパーツ差分機能」を
より効率的に扱えるようにするマネージャをゲーム画面上に表示するプラグインです。

【プルダウンメニューについて】
パーツ毎のプルダウンメニューをクリックまたはマウスホイールで変更すると、
1) 画面上のキャラクターのパーツが即座に変更され、
2) その変更を反映するためのタグテキストが即座に自動的にクリップボードにコピーされます。(※)

※ティラノライダー等でゲームをアプリケーションとして起動している場合のみ有効です。
  ブラウザ上では一部のJavaScript操作が制限されるため機能しません。
  代わりに「タグをコピー」ボタンを手動で押してコピーしてください。

【チェックボックスについて】
パーツ毎のチェックボックスをクリックまたはドラッグで変更すると、
1) そのパーツをマネージャ上で変更できなくなり、
2) タグテキストを生成する際にそのパーツを含めないようになります。

【マネージャウィンドウについて】
マネージャウィンドウはドラッグで移動することができます。
また、右上の×ボタンをクリックすることでマネージャウィンドウを消去できます。
消去後は小さな歯車アイコンだけが残り、そこをクリックすると再びマネージャウィンドウが現れます。


◇ ファイル構成 ◇

chara_part_manager
 ├ chara_part_manager.css
 ├ chara_part_manager.js
 ├ init.ks
 ├ _SAMPLE.ks
 └ _README.txt



◇ 導入方法 ◇

解凍して出てきた「chara_part_manager」フォルダを、
「data/others/plugin/」下にコピーしてください。
その後、first.ksに以下のタグを記述してください。

    [plugin name=chara_part_manager]



◇ pluginタグに指定できるパラメータ ◇

    color      : white/blackのいずれかで指定します。マネージャの色。デフォルトはwhite。
    scale      : 1を基準とする数値で指定します。マネージャの拡大率。デフォルトは1。
    newline    : true/falseのいずれかで指定します。
                 タグをコピーするとき、最後に改行を付け足すかどうか。デフォルトはtrue。
    autochange : true/falseのいずれかで指定します。
                 trueにすると、[chara_ptext][chara_show]を使用した時に
                 マネージャウィンドウで選択中のキャラが自動的に切り替わります。
    onlyexist  : true/falseのいずれかで指定します。
                 trueにすると、画面上に存在しないキャラクターは
                 マネージャウィンドウから抹消されます。
    partset    : true/falseのいずれかで指定します。
                 trueにすると、「表情セット」機能が使えるようになります。
                 →[chara_layer_set]
    onlypartset: true/falseのいずれかで指定します。
                 trueにすると、「表情セット」機能を使えるようにすること以外の処理を行いません。
                 (つまりマネージャが起動しません。ゲームをリリースするときはtrueにしてください。)



◇ タグリファレンス ◇

◆ [chara_layer_set] パーツセットを登録する
    
    || 概要
    
    [plugin]での読み込み時にpartset=trueを指定した場合のみ使えるようになるタグです。
    複数のパーツをひとつの表情として登録します。
    登録した表情は、
    
    [chara_part name=akane set=表情名]
    
    のようにして使うことができます。また、
    
    [chara_part name=akane set=表情名 eye=smile]
    
    のように、表情を指定しつつさらにそれを上書きすることもできます。
    
    || 指定できるパラメータ
    
    name        :【必須】キャラクターのname。
    set         :【必須】セットの名前。
    TAG_TEXT    : これを指定しておくと、キャラクターパーツマネージャでこの表情を選択したときに
                  その指定値をタグテキストとしてクリップボードにコピーするようにします。
                  この機能は、表情セットを自分専用のマクロで定義している場合などに使えます。
                  なお、指定した文字列中の「□」は半角のスペースに変換されます。
    他          : [chara_part]と同じように、任意のパーツ名=パーツIDを指定することができます。
    
    || 例
    
    [chara_layer_set set=うげげ name=yuko head=青ざめ eye=普通3 TAG_TEXT="[yukoface□f=ugege]"]
    


◇ FAQ・既知のバグ等 ◇

-



◇ 履歴 ◇

2018/03/07 17:07 前回アップデートで、partset=false時にタグコピーが機能しなくなっていた問題を修正。
2018/03/05 04:26 [plugin]にpartset、onlypartsetパラメータを追加。
2018/03/05 02:27 [plugin]にautochange、onlyexistパラメータを追加。
2018/02/22 16:18 配布開始。