========== ========== ========== ==========
     特殊文字置換プラグイン
========== ========== ========== ==========

【最終更新日】2018/02/02 20:33
【  名  称  】特殊文字置換プラグイン
【  種  別  】ティラノスクリプト用の外部プラグイン
【 製 作 者 】荻原（おぎはら）
【 開発環境 】64bit版Windows10, ティラノスクリプトv460, ティラノライダーv200 
【 動作環境 】上記開発環境にて確認
【 連 絡 先 】Twitterまでどうぞ（@tempura17654）
【 配 布 元 】http://tempura9357.blog.fc2.com
【ライセンス】MIT

---------- ----------



◇ 概要 ◇


このプラグインは、
シナリオファイル上の特定の文字あるいは行末に
特殊な意味を付加するプラグインです。
具体的には、
･『その文字の後ろには[l]がついているものと見なせ』
･『その文字を[font color=yellow]で置き換えよ』
･『行末にはすべて[p]が付加されているものと思え』
などという命令ができます。

プラグインを導入することで使えるようになるタグは、
・[special_char]
・[special_end]
の2つです。



◇ ファイル構成 ◇

special_char
 ├ init.ks
 ├ kag.parser.js
 ├ _README.txt
 └ _SAMPLE.ks



◇ 導入方法 ◇

解凍して出てきた「special_char」フォルダを、
「data/others/plugin/」下にコピーしてください。
その後、first.ksに以下のタグを記述してください。

    [plugin name=special_char]



◇ pluginタグに指定できるパラメータ ◇

-



◇ タグリファレンス ◇

◆ [special_char]
    
    || 概要
    
    このタグは、たとえば、
        
        [special_char char="。" mean="[l][cm]" type="append"]
    
    のように使います。これはどういう意味になるかというと、
    
        ｢。」という文字の後ろには常に[l][cm]がついているものと思え！
    
    という意味になります。
    つまり、シナリオ上で次のように書くだけで、
  　　
    　　こんにちは。
    　　今日はいい天気ですね。
    　　洗濯物がよく乾きますわ。
    
    エンジン側で次のように解釈してくれます。
    
    　　こんにちは。[l][cm]
    　　今日はいい天気ですね。[l][cm]
    　　洗濯物がよく乾きますわ。[l][cm]
    
    つまり｢。」の後ろに自動で[l][cm]が付加されますので、
    いちいちタグを書く必要がありません。
    
    このマクロによって特殊化した文字を逆にふつうの文字として使いたい場合、
    その文字の前に「^」を書きます。
    たとえば、
    
    　　ええ。本当にそうですね。
    
    という文において、１個目の「。」はただの「。」として使いたいなら、
    
    　　ええ^。本当にそうですね。
    
    とします。
    
    || 指定できるパラメータ
    
    char　    : 特殊化したい1文字を書く。1文字限定です。
                特殊化したい文字を並べることでまとめて登録することも可能。
    mean　    : その文字にどういう意味を持たせるか？　タグや文字等を書く。
    type      : meanの扱い方をappend/prepend/replaceの3種から選ぶ。順に、前に挿入/後に挿入/置き換えの意。
    


◆ [special_end] 
    
    || 概要
    
    文末に特殊な意味を持たせることもできます。
    文末に自動で[p]を入れてほしい場合、次のように書きます。
    
    [special_end mean="[p]"]
    
    なお、文末を特殊化したもののふつうの文末として扱いたい部分がある…
    という場合、改行の直前に「^」を置きます。
    
    || 指定できるパラメータ
    
    mean      : テキスト行末にどういう意味を持たせるか？　タグや文字などを書く。



◇ 注意 ◇

ティラノスクリプトの仕様上、
タグの属性値に空白（半角スペースや全角スペース等）を入れることはできません。
(入れることができないというか、解釈時に削除されてしまうので、思うように動かない場合がある。）
[special_char][special_end]タグのmean内に半角スペースを入れたい場合は、
「 」の代わりに「:」を使うようにしてください。
(meanパラメータのみ、パラメータ内の「:」を「 」に置き換えるようにしてあります。）
    
    ×　[special_char mean="[font color=yellow]" type="replace" char="《"]
    
    〇　[special_char mean="[font:color=yellow]" type="replace" char="《"]
    
また、[speial_char][special_end]が有効に働くのは、
次回以降に読み込み・解釈を行うシナリオファイルからです。
ご注意ください。

◇ FAQ・既知のバグ等 ◇

-



◇ 履歴 ◇

2018/02/02 20:33 リードミーファイルなどを整備。
2017/09/25 19:43 配布開始。